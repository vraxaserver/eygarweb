module.exports=[603314,732087,a=>{"use strict";a.s(["Shield",()=>b],603314),a.s(["default",()=>b],732087);let b=(0,a.i(170106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},703130,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}},47349,(a,b,c)=>{"use strict";var d=a.r(572131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},487610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},807706,a=>{"use strict";a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],807706);var b=a.i(187924),c=a.i(572131),d=a.i(750104),e=a.i(746872),f=a.i(872752),g=a.i(30553),h=a.i(487610);function i(){return()=>{}}var j="Avatar",[k,l]=(0,d.createContextScope)(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.Primitive.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,d)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=e?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,f.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,f.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,e.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,f.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.Primitive.img,{...m,ref:d,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.Primitive.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(497895);function v({className:a,...c}){return(0,b.jsx)(o,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function w({className:a,...c}){return(0,b.jsx)(q,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",a),...c})}function x({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}},205522,a=>{"use strict";a.s(["Input",()=>d]);var b=a.i(187924),c=a.i(497895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}},895174,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(170106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},292e3,a=>{"use strict";a.s(["AlertCircle",()=>b.default]);var b=a.i(895174)},199071,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(170106).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},523312,a=>{"use strict";a.s(["Bell",()=>b.default]);var b=a.i(199071)},596221,404650,a=>{"use strict";a.s(["Loader2",()=>b],596221),a.s(["default",()=>b],404650);let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},622282,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(170106).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},317753,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(170106).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},125488,a=>{"use strict";a.s(["default",()=>v],125488);var b=a.i(187924),c=a.i(572131),d=a.i(214174),e=a.i(707760),f=a.i(340695),g=a.i(703130),h=a.i(807706),i=a.i(205522),j=a.i(30553),k=c.forwardRef((a,c)=>(0,b.jsx)(j.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));k.displayName="Label";var l=a.i(497895);function m({className:a,...c}){return(0,b.jsx)(k,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}var n=a.i(463342),o=a.i(546842),p=a.i(603314),q=a.i(523312),r=a.i(622282),r=r,s=a.i(317753),s=s,t=a.i(596221),u=a.i(292e3);function v(){let a=(0,d.useSelector)(e.selectCurrentUser);console.log("user: ",a);let[j,{isLoading:k,error:l}]=(0,n.useUpdateProfileMutation)(),[v,w]=(0,c.useState)("profile"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),H=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&(y(a.first_name||""),A(a.last_name||""),E(a.avatar||""))},[a]);let I=async a=>{a.preventDefault(),G("");let b=new FormData;b.append("first_name",x),b.append("last_name",z),B&&b.append("avatar",B);try{await j(b).unwrap(),alert("Profile updated successfully!")}catch(a){G(a.data?.detail||"An unexpected error occurred. Please try again."),console.error("Failed to update profile:",a)}},J=[{key:"profile",label:"Profile",icon:(0,b.jsx)(o.User,{className:"w-4 h-4 mr-2"})},{key:"security",label:"Security",icon:(0,b.jsx)(p.Shield,{className:"w-4 h-4 mr-2"})},{key:"notifications",label:"Notifications",icon:(0,b.jsx)(q.Bell,{className:"w-4 h-4 mr-2"})},{key:"payment",label:"Payment Methods",icon:(0,b.jsx)(r.default,{className:"w-4 h-4 mr-2"})}];return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Account Settings"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage your profile, security, and notification preferences."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,b.jsx)("aside",{className:"md:col-span-1",children:(0,b.jsx)("nav",{className:"space-y-1",children:J.map(a=>(0,b.jsxs)(f.Button,{variant:v===a.key?"secondary":"ghost",className:`w-full justify-start ${v===a.key?"bg-gray-200 font-semibold":""}`,onClick:()=>w(a.key),children:[a.icon,a.label]},a.key))})}),(0,b.jsx)("main",{className:"md:col-span-3",children:"profile"===v&&(0,b.jsx)(g.Card,{children:(0,b.jsxs)("form",{onSubmit:I,children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"Profile Information"}),(0,b.jsx)(g.CardDescription,{children:"Update your personal details here."})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsxs)(h.Avatar,{className:"w-20 h-20",children:[(0,b.jsx)(h.AvatarImage,{src:D}),(0,b.jsx)(h.AvatarFallback,{children:(a?.first_name?.[0]||"")+(a?.last_name?.[0]||"")||a?.email?.[0].toUpperCase()})]}),(0,b.jsxs)("div",{className:"space-x-2",children:[(0,b.jsx)("input",{type:"file",ref:H,className:"sr-only",accept:"image/png, image/jpeg",onChange:a=>{let b=a.target.files?.[0];b&&(C(b),E(URL.createObjectURL(b)))}}),(0,b.jsxs)(f.Button,{type:"button",variant:"outline",onClick:()=>H.current?.click(),children:[(0,b.jsx)(s.default,{className:"w-4 h-4 mr-2"}),"Change"]}),(0,b.jsx)(f.Button,{type:"button",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>{E(a.avatar||""),C(null)},children:"Remove"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m,{htmlFor:"firstName",children:"First Name"}),(0,b.jsx)(i.Input,{id:"firstName",value:x,onChange:a=>y(a.target.value),placeholder:"Enter your first name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m,{htmlFor:"lastName",children:"Last Name"}),(0,b.jsx)(i.Input,{id:"lastName",value:z,onChange:a=>A(a.target.value),placeholder:"Enter your last name"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m,{htmlFor:"email",children:"Email"}),(0,b.jsx)(i.Input,{id:"email",value:a?.email||"",disabled:!0}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Your email address cannot be changed."})]})]}),(0,b.jsxs)(g.CardFooter,{className:"border-t pt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[F&&(0,b.jsxs)("div",{className:"text-sm text-red-600 flex items-center",children:[(0,b.jsx)(u.AlertCircle,{className:"w-4 h-4 mr-2"}),F]}),(0,b.jsx)(f.Button,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 w-full sm:w-auto ml-auto",disabled:k,children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})})]})]})})}}];

//# sourceMappingURL=_7496322e._.js.map