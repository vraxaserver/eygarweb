module.exports=[922414,a=>{"use strict";a.s(["default",()=>aU],922414);var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(703130),f=a.i(340695),g=a.i(254161),h=a.i(976472),i=a.i(821374),j=a.i(613749),k=a.i(50522),l=a.i(177156),m=a.i(996275),m=m,n=a.i(892692),n=n,o=a.i(507554),p=a.i(470121),q=a.i(750104),r=a.i(392843),s=a.i(225152),t=a.i(596743),u=a.i(422297),v=a.i(692616),w=a.i(777192),x=a.i(30553),y=a.i(486228),z=a.i(152081),A=a.i(241852),B=a.i(811011),C="Dialog",[D,E]=(0,q.createContextScope)(C),[F,G]=D(C),H=a=>{let{__scopeDialog:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!0}=a,j=c.useRef(null),k=c.useRef(null),[l,m]=(0,s.useControllableState)({prop:f,defaultProp:g??!1,onChange:h,caller:C});return(0,b.jsx)(F,{scope:d,triggerRef:j,contentRef:k,contentId:(0,r.useId)(),titleId:(0,r.useId)(),descriptionId:(0,r.useId)(),open:l,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(a=>!a),[m]),modal:i,children:e})};H.displayName=C;var I="DialogTrigger",J=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(I,d),g=(0,p.useComposedRefs)(c,f.triggerRef);return(0,b.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":ab(f.open),...e,ref:g,onClick:(0,o.composeEventHandlers)(a.onClick,f.onOpenToggle)})});J.displayName=I;var K="DialogPortal",[L,M]=D(K,{forceMount:void 0}),N=a=>{let{__scopeDialog:d,forceMount:e,children:f,container:g}=a,h=G(K,d);return(0,b.jsx)(L,{scope:d,forceMount:e,children:c.Children.map(f,a=>(0,b.jsx)(w.Presence,{present:e||h.open,children:(0,b.jsx)(v.Portal,{asChild:!0,container:g,children:a})}))})};N.displayName=K;var O="DialogOverlay",P=c.forwardRef((a,c)=>{let d=M(O,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=G(O,a.__scopeDialog);return g.modal?(0,b.jsx)(w.Presence,{present:e||g.open,children:(0,b.jsx)(R,{...f,ref:c})}):null});P.displayName=O;var Q=(0,B.createSlot)("DialogOverlay.RemoveScroll"),R=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(O,d);return(0,b.jsx)(z.RemoveScroll,{as:Q,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(x.Primitive.div,{"data-state":ab(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),S="DialogContent",T=c.forwardRef((a,c)=>{let d=M(S,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=G(S,a.__scopeDialog);return(0,b.jsx)(w.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(U,{...f,ref:c}):(0,b.jsx)(V,{...f,ref:c})})});T.displayName=S;var U=c.forwardRef((a,d)=>{let e=G(S,a.__scopeDialog),f=c.useRef(null),g=(0,p.useComposedRefs)(d,e.contentRef,f);return c.useEffect(()=>{let a=f.current;if(a)return(0,A.hideOthers)(a)},[]),(0,b.jsx)(W,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,o.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),V=c.forwardRef((a,d)=>{let e=G(S,a.__scopeDialog),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(W,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),W=c.forwardRef((a,d)=>{let{__scopeDialog:e,trapFocus:f,onOpenAutoFocus:g,onCloseAutoFocus:h,...i}=a,j=G(S,e),k=c.useRef(null),l=(0,p.useComposedRefs)(d,k);return(0,y.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:g,onUnmountAutoFocus:h,children:(0,b.jsx)(t.DismissableLayer,{role:"dialog",id:j.contentId,"aria-describedby":j.descriptionId,"aria-labelledby":j.titleId,"data-state":ab(j.open),...i,ref:l,onDismiss:()=>j.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(af,{titleId:j.titleId}),(0,b.jsx)(ag,{contentRef:k,descriptionId:j.descriptionId})]})]})}),X="DialogTitle",Y=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(X,d);return(0,b.jsx)(x.Primitive.h2,{id:f.titleId,...e,ref:c})});Y.displayName=X;var Z="DialogDescription",$=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(Z,d);return(0,b.jsx)(x.Primitive.p,{id:f.descriptionId,...e,ref:c})});$.displayName=Z;var _="DialogClose",aa=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(_,d);return(0,b.jsx)(x.Primitive.button,{type:"button",...e,ref:c,onClick:(0,o.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function ab(a){return a?"open":"closed"}aa.displayName=_;var ac="DialogTitleWarning",[ad,ae]=(0,q.createContext)(ac,{contentName:S,titleName:X,docsSlug:"dialog"}),af=({titleId:a})=>{let b=ae(ac),d=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return c.useEffect(()=>{a&&(document.getElementById(a)||console.error(d))},[d,a]),null},ag=({contentRef:a,descriptionId:b})=>{let d=ae("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d.contentName}}.`;return c.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(e))},[e,a,b]),null},ah=a.i(562213),ah=ah,ai=a.i(497895);function aj({...a}){return(0,b.jsx)(H,{"data-slot":"dialog",...a})}function ak({...a}){return(0,b.jsx)(N,{"data-slot":"dialog-portal",...a})}function al({className:a,...c}){return(0,b.jsx)(P,{"data-slot":"dialog-overlay",className:(0,ai.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function am({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(ak,{"data-slot":"dialog-portal",children:[(0,b.jsx)(al,{}),(0,b.jsxs)(T,{"data-slot":"dialog-content",className:(0,ai.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(aa,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(ah.default,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function an({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,ai.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function ao({className:a,...c}){return(0,b.jsx)(Y,{"data-slot":"dialog-title",className:(0,ai.cn)("text-lg leading-none font-semibold",a),...c})}var ap="AlertDialog",[aq,ar]=(0,q.createContextScope)(ap,[E]),as=E(),at=a=>{let{__scopeAlertDialog:c,...d}=a,e=as(c);return(0,b.jsx)(H,{...e,...d,modal:!0})};at.displayName=ap,c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=as(d);return(0,b.jsx)(J,{...f,...e,ref:c})}).displayName="AlertDialogTrigger";var au=a=>{let{__scopeAlertDialog:c,...d}=a,e=as(c);return(0,b.jsx)(N,{...e,...d})};au.displayName="AlertDialogPortal";var av=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=as(d);return(0,b.jsx)(P,{...f,...e,ref:c})});av.displayName="AlertDialogOverlay";var aw="AlertDialogContent",[ax,ay]=aq(aw),az=(0,B.createSlottable)("AlertDialogContent"),aA=c.forwardRef((a,d)=>{let{__scopeAlertDialog:e,children:f,...g}=a,h=as(e),i=c.useRef(null),j=(0,p.useComposedRefs)(d,i),k=c.useRef(null);return(0,b.jsx)(ad,{contentName:aw,titleName:aB,docsSlug:"alert-dialog",children:(0,b.jsx)(ax,{scope:e,cancelRef:k,children:(0,b.jsxs)(T,{role:"alertdialog",...h,...g,ref:j,onOpenAutoFocus:(0,o.composeEventHandlers)(g.onOpenAutoFocus,a=>{a.preventDefault(),k.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,b.jsx)(az,{children:f}),(0,b.jsx)(aI,{contentRef:i})]})})})});aA.displayName=aw;var aB="AlertDialogTitle",aC=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=as(d);return(0,b.jsx)(Y,{...f,...e,ref:c})});aC.displayName=aB;var aD="AlertDialogDescription",aE=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=as(d);return(0,b.jsx)($,{...f,...e,ref:c})});aE.displayName=aD;var aF=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=as(d);return(0,b.jsx)(aa,{...f,...e,ref:c})});aF.displayName="AlertDialogAction";var aG="AlertDialogCancel",aH=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:f}=ay(aG,d),g=as(d),h=(0,p.useComposedRefs)(c,f);return(0,b.jsx)(aa,{...g,...e,ref:h})});aH.displayName=aG;var aI=({contentRef:a})=>{let b=`\`${aw}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${aw}\` by passing a \`${aD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${aw}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null};function aJ({...a}){return(0,b.jsx)(at,{"data-slot":"alert-dialog",...a})}function aK({...a}){return(0,b.jsx)(au,{"data-slot":"alert-dialog-portal",...a})}function aL({className:a,...c}){return(0,b.jsx)(av,{"data-slot":"alert-dialog-overlay",className:(0,ai.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function aM({className:a,...c}){return(0,b.jsxs)(aK,{children:[(0,b.jsx)(aL,{}),(0,b.jsx)(aA,{"data-slot":"alert-dialog-content",className:(0,ai.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...c})]})}function aN({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,ai.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function aO({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,ai.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function aP({className:a,...c}){return(0,b.jsx)(aC,{"data-slot":"alert-dialog-title",className:(0,ai.cn)("text-lg font-semibold",a),...c})}function aQ({className:a,...c}){return(0,b.jsx)(aE,{"data-slot":"alert-dialog-description",className:(0,ai.cn)("text-muted-foreground text-sm",a),...c})}function aR({className:a,...c}){return(0,b.jsx)(aF,{className:(0,ai.cn)((0,f.buttonVariants)(),a),...c})}function aS({className:a,...c}){return(0,b.jsx)(aH,{className:(0,ai.cn)((0,f.buttonVariants)({variant:"outline"}),a),...c})}var aT=a.i(571987);function aU({property:a,currentUserId:o}){let p=(0,d.useRouter)(),[q,r]=(0,c.useState)(a.isLiked||!1),[s,t]=(0,c.useState)(0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),y=a.host_id===o,z=async()=>{console.log(`Deleting property: ${a.id}`),x(!1)},A=a.location?`${a.location.city}, ${a.location.country}`:"Location not available";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Card,{onClick:()=>{p.push(`/properties/${a.id}`)},className:"group cursor-pointer py-0 rounded-2xl overflow-hidden border-transparent hover:shadow-xl transition-shadow duration-300 bg-white",children:(0,b.jsxs)(e.CardContent,{className:"p-0",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"relative h-72 w-full",children:(0,b.jsx)(aT.default,{src:a.images[s]||"/placeholder.svg",alt:a.title,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover transition-transform duration-300 group-hover:scale-105"})}),a.images.length>1&&(0,b.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:a.images.map((a,c)=>(0,b.jsx)("button",{"aria-label":`Go to image ${c+1}`,className:`block w-2 h-2 rounded-full transition-colors ${c===s?"bg-white":"bg-white/60"}`,onClick:a=>{a.stopPropagation(),t(c)}},c))}),a.images.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":"Previous image",onClick:b=>{b.stopPropagation(),t(b=>(b-1+a.images.length)%a.images.length)},className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(j.ChevronLeft,{className:"h-5 w-5"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":"Next image",onClick:b=>{b.stopPropagation(),t(b=>(b+1)%a.images.length)},className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(k.ChevronRight,{className:"h-5 w-5"})})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":q?"Remove from favorites":"Add to favorites",onClick:a=>{a.stopPropagation(),r(!q)},className:"absolute top-3 right-3 h-8 w-8 rounded-full p-0 bg-black/30 hover:bg-black/50 text-white hover:scale-110 transition-transform z-10",children:(0,b.jsx)(h.Heart,{className:`h-5 w-5 transition-colors ${q?"fill-red-500 text-red-500":"fill-transparent"}`})}),(0,b.jsxs)("div",{className:"absolute top-3 right-[48px] flex space-x-2 z-10",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":"View property details",onClick:a=>{a.stopPropagation(),v(!0)},className:"h-8 w-8 rounded-full p-0 bg-black/30 hover:bg-black/50 text-white hover:scale-110 transition-transform",children:(0,b.jsx)(l.Eye,{className:"h-5 w-5"})}),y&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":"Edit property",onClick:b=>{b.stopPropagation(),p.push(`/properties/edit/${a.id}`)},className:"h-8 w-8 rounded-full p-0 bg-black/30 hover:bg-black/50 text-white hover:scale-110 transition-transform",children:(0,b.jsx)(m.default,{className:"h-5 w-5"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm","aria-label":"Delete property",onClick:a=>{a.stopPropagation(),x(!0)},className:"h-8 w-8 rounded-full p-0 bg-black/30 hover:bg-black/50 text-white hover:scale-110 transition-transform",children:(0,b.jsx)(n.default,{className:"h-5 w-5"})})]})]}),(0,b.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,b.jsxs)(g.Badge,{variant:"secondary",className:"bg-white/90 text-black shadow",children:[a.type," â€¢ ",a.beds," bed",1!==a.beds?"s":""]})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-800 truncate pr-2",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,b.jsx)(i.Star,{className:"w-4 h-4 text-gray-800"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-800",children:a.rating})]})]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:A}),(0,b.jsxs)("div",{className:"flex items-baseline space-x-1",children:[(0,b.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(0,ai.formatCurrency)(a.price_per_night,a.currency)}),(0,b.jsx)("span",{className:"text-gray-600 text-sm",children:"/ night"})]})]})]})}),(0,b.jsx)(aj,{open:u,onOpenChange:v,children:(0,b.jsxs)(am,{className:"sm:max-w-[425px] md:max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsx)(an,{children:(0,b.jsxs)(ao,{children:[a.title," - Details"]})}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("p",{className:"font-semibold",children:["Location: ",A]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.description||"No description available."}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"Price:"})," ",(0,ai.formatCurrency)(a.price_per_night,a.currency)," / night"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"Rating:"})," ",(0,b.jsx)(i.Star,{className:"w-4 h-4 inline text-gray-800 mr-1"}),a.rating]})]})]})]})}),(0,b.jsx)(aJ,{open:w,onOpenChange:x,children:(0,b.jsxs)(aM,{children:[(0,b.jsxs)(aN,{children:[(0,b.jsx)(aP,{children:"Are you absolutely sure?"}),(0,b.jsxs)(aQ,{children:['This action cannot be undone. This will permanently delete the property "',a.title,'" and remove its data from our servers.']})]}),(0,b.jsxs)(aO,{children:[(0,b.jsx)(aS,{children:"Cancel"}),(0,b.jsx)(aR,{onClick:z,className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})}}];

//# sourceMappingURL=components_properties_PropertyCard_jsx_4ccde7ff._.js.map