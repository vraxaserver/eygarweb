{"version":3,"sources":["turbopack:///[project]/app/(auth)/login/page.jsx","turbopack:///[project]/components/auth/LoginForm.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoginForm from \"@/components/auth/LoginForm\";\r\nimport { selectIsAuthenticated } from \"@/store/slices/authSlice\";\r\n\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const isAuthenticated = useSelector(selectIsAuthenticated);\r\n\r\n    // Redirect if already authenticated\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const returnUrl = urlParams.get(\"returnUrl\") || \"/dashboard\";\r\n            router.push(returnUrl);\r\n        }\r\n    }, [isAuthenticated, router]);\r\n\r\n    if (isAuthenticated) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-screen\">\r\n                <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n                <h1 className=\"text-center text-3xl font-extrabold text-gray-900\">\r\n                    Welcome Back\r\n                </h1>\r\n                <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n                    Sign in to your account to continue\r\n                </p>\r\n            </div>\r\n            <LoginForm />\r\n        </div>\r\n    );\r\n}\r\n","\"use client\"\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useLoginMutation } from \"@/store/features/authApi\";\r\nimport {\r\n    selectAuthError,\r\n    selectAuthLoading,\r\n} from \"@/store/slices/authSlice\";\r\n\r\nconst LoginForm = () => {\r\n    const router = useRouter();\r\n    const [formData, setFormData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    const [login, { isLoading }] = useLoginMutation();\r\n    const authError = useSelector(selectAuthError);\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            login(formData).unwrap();\r\n            // Redirect to return URL or dashboard\r\n            const returnUrl = router.query?.returnUrl || \"/\";\r\n            router.push(returnUrl);\r\n        } catch (error) {\r\n            // Error is handled by the authApi onQueryStarted\r\n            console.error(\"Login error:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md\">\r\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Login</h2>\r\n\r\n            {authError && (\r\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n                    {authError}\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                    <label\r\n                        htmlFor=\"email\"\r\n                        className=\"block text-sm font-medium text-gray-700\"\r\n                    >\r\n                        Email\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        value={formData.email}\r\n                        onChange={handleChange}\r\n                        required\r\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                        placeholder=\"Enter your email\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label\r\n                        htmlFor=\"password\"\r\n                        className=\"block text-sm font-medium text-gray-700\"\r\n                    >\r\n                        Password\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                        <input\r\n                            type={showPassword ? \"text\" : \"password\"}\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                            placeholder=\"Enter your password\"\r\n                        />\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setShowPassword(!showPassword)}\r\n                            className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                        >\r\n                            {showPassword ? (\r\n                                <svg\r\n                                    className=\"h-5 w-5 text-gray-400\"\r\n                                    fill=\"none\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                    stroke=\"currentColor\"\r\n                                >\r\n                                    <path\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                        strokeWidth={2}\r\n                                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                                    />\r\n                                    <path\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                        strokeWidth={2}\r\n                                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                                    />\r\n                                </svg>\r\n                            ) : (\r\n                                <svg\r\n                                    className=\"h-5 w-5 text-gray-400\"\r\n                                    fill=\"none\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                    stroke=\"currentColor\"\r\n                                >\r\n                                    <path\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                        strokeWidth={2}\r\n                                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21\"\r\n                                    />\r\n                                </svg>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isLoading}\r\n                    className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                    {isLoading ? \"Logging in...\" : \"Login\"}\r\n                </button>\r\n            </form>\r\n\r\n            <div className=\"mt-4 text-center\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                    Don't have an account?{\" \"}\r\n                    <button\r\n                        onClick={() => router.push(\"/signup\")}\r\n                        className=\"text-blue-600 hover:text-blue-500 font-medium\"\r\n                    >\r\n                        Sign up\r\n                    </button>\r\n                </p>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                    <button\r\n                        onClick={() => router.push(\"/forgot-password\")}\r\n                        className=\"text-blue-600 hover:text-blue-500 font-medium\"\r\n                    >\r\n                        Forgot your password?\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"names":[],"mappings":"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"}